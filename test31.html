<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Honours 1st Year 2025</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali&display=swap" rel="stylesheet">
<style>
    body {
        margin: 0;
        font-family: 'Segoe UI', sans-serif;
        background: #f4f4f4;
        color: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
    }
    h1 {
        font-size: 28px;
        margin-bottom: 20px;
        text-align: center;
    }
    .speaker-icon {
        position: fixed;
        top: 15px;
        right: 20px;
        font-size: 28px;
        cursor: pointer;
        color: #333;
        background: #fff;
        padding: 6px 10px;
        border-radius: 50%;
        box-shadow: 0 3px 8px rgba(0,0,0,0.2);
        transition: 0.3s;
        z-index: 1000;
    }
    .speaker-icon:hover {
        background: #e0e0e0;
    }
    .exam-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 20px;
        width: 100%;
        max-width: 1200px;
    }
    .card {
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        position: relative;
        transition: background-color 0.5s ease;
    }
    /* ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶≤‡¶æ‡¶≤ ‡¶¨‡ßç‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡¶ø‡¶Ç */
    .card.exam-today {
        animation: blinkRed 1.5s infinite alternate;
    }
    @keyframes blinkRed {
        0% { background-color: #ffdddd; }
        100% { background-color: #ffbaba; }
    }
    .title {
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 10px;
    }
    .date {
        font-size: 14px;
        margin-bottom: 15px;
        color: #666;
    }
    .bangla-date {
        font-family: 'Noto Sans Bengali', sans-serif;
        font-size: 16px;
        color: #333;
    }
    .flip-timer {
        display: flex;
        justify-content: center;
        gap: 12px;
    }
    .digit {
        background: #333;
        color: #fff;
        font-size: 30px;
        font-weight: bold;
        width: 70px;
        height: 80px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        backface-visibility: hidden;
        perspective: 1000px;
    }
    .label {
        margin-top: 5px;
        font-size: 12px;
        color: #666;
        font-weight: bold;
    }
    .flip {
        animation: flip 0.7s ease-in-out;
    }
    @keyframes flip {
        0% { transform: rotateX(0deg); }
        50% { transform: rotateX(-90deg); }
        100% { transform: rotateX(0deg); }
    }
    .progress {
        margin-top: 12px;
        background: #eee;
        border-radius: 10px;
        overflow: hidden;
        height: 16px;
        position: relative;
    }
    .progress-bar {
        height: 100%;
        background: #00b894;
        width: 0%;
        transition: width 0.5s linear;
        position: relative;
        cursor: pointer;
    }
    /* ‡¶¨‡ßú, ‡¶∏‡ßç‡¶•‡¶ø‡¶∞ ‡¶ü‡ßÅ‡¶≤‡¶ü‡¶ø‡¶™ */
    .progress-bar:hover::after {
        content: attr(data-tooltip);
        position: absolute;
        top: -45px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.85);
        color: #fff;
        padding: 10px 16px;
        font-size: 16px;
        font-weight: 600;
        border-radius: 8px;
        white-space: nowrap;
        pointer-events: none;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        z-index: 10;
        opacity: 1;
        user-select: none;
    }
    /* ‡¶ü‡ßÅ‡¶≤‡¶ü‡¶ø‡¶™‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶õ‡ßã‡¶ü ‡¶§‡¶ø‡¶∞ */
    .progress-bar:hover::before {
        content: "";
        position: absolute;
        top: -12px;
        left: 50%;
        transform: translateX(-50%);
        border-width: 6px;
        border-style: solid;
        border-color: rgba(0,0,0,0.85) transparent transparent transparent;
        z-index: 10;
    }
    /* Exam Started message style */
    .exam-started {
        font-size: 24px;
        font-weight: bold;
        color: #d63031;
        animation: pulse 1.2s infinite;
        margin-top: 20px;
    }
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }
</style>
</head>
<body>

<h1>üìö Honours 1st Year 2025 <br>Mathematics Exam Countdown</h1>
<div class="speaker-icon" id="speaker" title="Mute/Unmute">üîä</div>

<div class="exam-container" id="examContainer"></div>

<audio id="tick" src="https://www.soundjay.com/clock/sounds/clock-ticking-1.mp3"></audio>

<script>
const exams = [
    { date: '2025-08-24 13:30:00', title: 'History of the Emergence Independent of Bangladesh' },
    { date: '2025-08-28 13:30:00', title: 'Fundamentals of Mathematics' },
    { date: '2025-08-31 13:30:00', title: 'Calculus - I' },
    { date: '2025-09-03 13:30:00', title: 'Linear Algebra' },
    { date: '2025-09-07 13:30:00', title: 'Analytic and Vector Geometry' },
    { date: '2025-09-14 13:30:00', title: 'Physics-I' },
    { date: '2025-09-22 13:30:00', title: 'Physics-II' },
    { date: '2025-10-12 13:30:00', title: 'Chemistry-I' },
];

const startDate = new Date('2025-08-01 00:00:00').getTime();
const container = document.getElementById('examContainer');
const speaker = document.getElementById('speaker');
const tickSound = document.getElementById('tick');
let soundOn = true;

function setProgress(index, endTime, daysLeft) {
    const now = Date.now();
    const totalTime = endTime - startDate;
    const elapsed = now - startDate;
    const progress = Math.min((elapsed / totalTime) * 100, 100);
    const progressBar = document.getElementById(`progress-${index}`);
    progressBar.style.width = progress + "%";
    progressBar.setAttribute('data-tooltip', `${progress.toFixed(1)}% ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‚Ä¢ ${daysLeft} ‡¶¶‡¶ø‡¶® ‡¶¨‡¶æ‡¶ï‡¶ø`);
}

exams.forEach((exam, index) => {
    const examDateObj = new Date(exam.date);
    const nowObj = new Date();
    const card = document.createElement('div');
    card.className = 'card';

    // ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶Ø‡ßã‡¶ó
    if (nowObj.toDateString() === examDateObj.toDateString()) {
        card.classList.add('exam-today');
    }

    card.innerHTML = `
        <div class="title">${exam.title}</div>
        <div class="date bangla-date">${examDateObj.toLocaleDateString('bn-BD', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        })} | ‡ßß:‡ß©‡ß¶ ‡¶¶‡ßÅ‡¶™‡ßÅ‡¶∞</div>
        <div class="flip-timer" id="timer-${index}">
            ${['Days','Hours','Minutes','Seconds'].map(unit => `
                <div>
                    <div class="digit" id="${unit}-${index}">00</div>
                    <div class="label">${unit}</div>
                </div>
            `).join('')}
        </div>
        <div class="progress"><div class="progress-bar" id="progress-${index}"></div></div>
    `;
    container.appendChild(card);

    const endTime = examDateObj.getTime();

    function updateCountdown() {
        const now = Date.now();
        const diff = endTime - now;
        const daysLeft = Math.ceil(diff / (1000 * 60 * 60 * 24));

        if (diff <= 0) {
            // ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶°‡¶æ‡¶â‡¶® ‡¶∂‡ßá‡¶∑, ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡ßá‡¶∏ ‡¶¨‡¶æ‡¶∞ ‡ßß‡ß¶‡ß¶%
            const timerDiv = document.getElementById(`timer-${index}`);
            timerDiv.innerHTML = `<div class="exam-started">Exam Started!</div>`;
            document.getElementById(`progress-${index}`).style.width = "100%";
            document.getElementById(`progress-${index}`).setAttribute('data-tooltip', `100% ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‚Ä¢ ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶ö‡¶≤‡¶õ‡ßá`);
            return;
        }

        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);

        animateFlip(`Days-${index}`, d);
        animateFlip(`Hours-${index}`, h);
        animateFlip(`Minutes-${index}`, m);
        animateFlip(`Seconds-${index}`, s);

        setProgress(index, endTime, daysLeft);
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
});

function animateFlip(id, newValue) {
    const el = document.getElementById(id);
    if (!el) return;
    const currentVal = parseInt(el.innerText);
    if (currentVal !== newValue) {
        el.classList.add('flip');
        setTimeout(() => {
            el.innerText = String(newValue).padStart(2, '0');
            el.classList.remove('flip');
        }, 350);
    }
}

setInterval(() => {
    if (soundOn) {
        tickSound.currentTime = 0;
        tickSound.play().catch(() => {});
    }
}, 1000);

speaker.addEventListener('click', () => {
    soundOn = !soundOn;
    speaker.innerText = soundOn ? 'üîä' : 'üîá';
});
</script>

</body>
</html>
